
# =============================================================================
# PRIVATE CHAT INTERFACE - BACKEND ENVIRONMENT VARIABLES
# =============================================================================
# This file contains environment variables for the FastAPI backend.
# Copy this file to .env and update the values for your environment.
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

APP_NAME=Private Chat Interface
DEBUG=false
SECRET_KEY=your-super-secret-key-change-this-in-production

# CORS and Security
ALLOWED_ORIGINS=http://localhost,http://localhost:3000,http://localhost:8080
TRUSTED_HOSTS=localhost,127.0.0.1,backend

# =============================================================================
# DATABASE CONFIGURATION (MySQL)
# =============================================================================

# For Docker deployment (internal network)
MYSQL_HOST=mysql
MYSQL_PORT=3306
MYSQL_USER=chat_user
MYSQL_PASSWORD=your_secure_db_password_here
MYSQL_DATABASE=chat_db

# For local development (external access)
# MYSQL_HOST=localhost
# MYSQL_PORT=3306

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

JWT_PRIVATE_KEY_PATH=/app/keys/private.pem
JWT_PUBLIC_KEY_PATH=/app/keys/public.pem
JWT_ALGORITHM=RS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# =============================================================================
# MINIO OBJECT STORAGE CONFIGURATION
# =============================================================================

# For Docker deployment (internal network)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_SECURE=false
MINIO_BUCKET_NAME=chat-attachments

# For local development (external access)
# MINIO_ENDPOINT=localhost:9000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# For Docker deployment (internal network)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# For local development (external access)
# REDIS_HOST=localhost
# REDIS_PORT=6379

# =============================================================================
# INFERENCE PROVIDERS (Optional)
# =============================================================================

OPENAI_API_KEY=your-openai-api-key-here
VLLM_ENDPOINT=http://localhost:8001
DEFAULT_INFERENCE_PROVIDER=openai

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_TLS=true
FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

BCRYPT_ROUNDS=12
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# 2FA Settings
TOTP_ISSUER=Private Chat Interface
TOTP_DIGITS=6
TOTP_PERIOD=30

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

MAX_UPLOAD_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,txt,zip,rar,7z
UPLOAD_PATH=/app/uploads

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log

# =============================================================================
# MONITORING AND METRICS
# =============================================================================

ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

RELOAD=false
WORKERS=1
HOST=0.0.0.0
PORT=8000

# =============================================================================
# NOTES
# =============================================================================

# Docker vs Local Development:
# - For Docker: Use service names (mysql, redis, minio)
# - For Local: Use localhost with exposed ports

# Security Recommendations:
# - Change all default passwords and keys
# - Use strong, unique secret keys
# - Enable SSL/TLS in production
# - Regularly rotate credentials
# - Monitor logs for security events

# Performance Tuning:
# - Adjust BCRYPT_ROUNDS based on server capacity
# - Configure Redis clustering for high availability
# - Set appropriate rate limits for your use case
# - Monitor and adjust file upload limits

# =============================================================================
