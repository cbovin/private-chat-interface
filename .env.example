# =============================================================================
# PRIVATE CHAT INTERFACE - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables needed for the application.
# Copy this file to .env and update the values for your environment.
# =============================================================================

# =============================================================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# =============================================================================

# Database Configuration (used by docker-compose.yml)
MYSQL_ROOT_PASSWORD=your_secure_root_password_here
MYSQL_DATABASE=chat_db
MYSQL_USER=chat_user
MYSQL_PASSWORD=your_secure_db_password_here

# MinIO Object Storage Configuration
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=chat-attachments

# =============================================================================
# APPLICATION ENVIRONMENT VARIABLES
# =============================================================================

# Application Settings
APP_NAME=Private Chat Interface
DEBUG=false
SECRET_KEY=your-super-secret-key-change-this-in-production

# CORS and Security
ALLOWED_ORIGINS=http://localhost,http://localhost:3000,http://localhost:8080
TRUSTED_HOSTS=localhost,127.0.0.1

# =============================================================================
# BACKEND SPECIFIC VARIABLES (backend/.env)
# =============================================================================

# Database Connection (Internal Docker Network)
MYSQL_HOST=mysql
MYSQL_PORT=3306

# JWT Configuration
JWT_PRIVATE_KEY_PATH=/app/keys/private.pem
JWT_PUBLIC_KEY_PATH=/app/keys/public.pem
JWT_ALGORITHM=RS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

# MinIO Configuration (Internal Docker Network)
MINIO_ENDPOINT=minio:9000
MINIO_SECURE=false

# Redis Configuration (Internal Docker Network)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Inference Providers (Optional)
OPENAI_API_KEY=your-openai-api-key-here
VLLM_ENDPOINT=http://localhost:8001
DEFAULT_INFERENCE_PROVIDER=openai

# Email Configuration (Optional - for notifications)
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=

# Security Configuration
BCRYPT_ROUNDS=12
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# FRONTEND SPECIFIC VARIABLES (frontend/.env.local)
# =============================================================================

# API Configuration
NEXT_PUBLIC_API_URL=http://localhost/api
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000

# Application Settings
NEXT_PUBLIC_APP_NAME=Private Chat Interface
NEXT_PUBLIC_APP_VERSION=1.0.0

# Feature Flags
NEXT_PUBLIC_ENABLE_2FA=true
NEXT_PUBLIC_ENABLE_FILE_UPLOAD=true
NEXT_PUBLIC_ENABLE_REAL_TIME=true

# External Services (if needed)
NEXT_PUBLIC_ANALYTICS_ID=
NEXT_PUBLIC_SENTRY_DSN=

# Development Settings
NEXT_PUBLIC_DEBUG=false

# =============================================================================
# DEVELOPMENT AND PRODUCTION NOTES
# =============================================================================

# For Development:
# - Copy this file to .env
# - Update all password and secret values
# - For local development, you may need to adjust hostnames

# For Production:
# - Use strong, unique passwords
# - Generate new JWT secret keys
# - Configure SSL/TLS certificates
# - Set DEBUG=false
# - Use environment-specific values

# Docker Networks:
# - All services communicate through internal Docker networks
# - External access is provided through Nginx reverse proxy on port 80
# - Database ports are not exposed externally for security

# Security Recommendations:
# - Change all default passwords
# - Use environment-specific secrets
# - Rotate keys regularly
# - Monitor logs for security events
# - Keep dependencies updated

# =============================================================================
